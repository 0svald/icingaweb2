<?php

use Icinga\Web\Url;
use Icinga\Web\Menu;
use Icinga\Web\MenuRenderer;

// Don't render a menu for unauthenticated users unless menu is auth aware
if (! $this->auth()->isAuthenticated()) {
    return;
}

?>
<div id="menu" data-base-target="_main">
  <form action="<?= $this->href('search') ?>" method="get" role="search">
    <input type="text" name="q" class="search autofocus" placeholder="<?= $this->translate('Search...') ?>" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  </form>
<?= new MenuRenderer(Menu::fromConfig()->order(), Url::fromRequest()->without('renderLayout')->getRelativeUrl()); ?>
</div>
