<div class="controls">
    <?= $tabs ?>
</div>
<div class="content" data-base-target="_next">
    <?= $this->qlink(
        $this->translate('Create A New Resource') ,
        'config/createresource',
        null,
        array(
            'class'   => 'button action-link',
            'icon'    => 'plus',
            'title'   => $this->translate('Create a new resource')
        )
    ) ?>
    <table class="action-table listing-table">
        <thead>
        <th><?= $this->translate('Resource') ?></th>
        <th></th>
        </thead>
        <tbody>
        <?php foreach ($this->resources as $name => $value): ?>
            <tr>
                <td>
                    <?php
                    switch ($value->type) {
                        case 'db':
                            $icon = 'database';
                            break;
                        case 'ldap':
                            $icon = 'sitemap';
                            break;
                        case 'livestatus':
                            $icon = 'flash';
                            break;
                        case 'ssh':
                            $icon = 'user';
                            break;
                        case 'file':
                        case 'ini':
                            $icon = 'doc-text';
                            break;
                        default:
                            $icon = 'edit';
                            break;
                    }
                    ?>
                    <?= $this->qlink(
                        $name,
                        'config/editresource',
                        array('resource' => $name),
                        array(
                            'icon'  => $icon,
                            'title' => sprintf($this->translate('Edit resource %s'), $name)
                        )
                    ) ?>
                </td>
                <td class="text-right">
                    <?= $this->qlink(
                        '',
                        'config/removeresource',
                        array('resource' => $name),
                        array(
                            'class'   => 'action-link',
                            'icon'    => 'cancel',
                            'title'   => sprintf($this->translate('Remove resource %s'), $name)
                        )
                    ) ?>
                </td>
            </tr>
        <?php endforeach ?>
        </tbody>
    </table>
</div>
