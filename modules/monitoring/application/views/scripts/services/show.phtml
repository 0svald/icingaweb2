<div class="controls">
    <?= $this->render('partials/service/objects-header.phtml'); ?>
</div>
<div class="content">
    <?php if (($serviceCount = count($objects)) === 0): ?>
        <?= $this->translate('No services matching the filter'); ?>
    <?php else: ?>
        <h3><?= sprintf($this->translatePlural('%u Service', '%u Services', $serviceCount), $serviceCount); ?></h3>
        <div><?= $this->qlink(
            sprintf($this->translate('List all %u services'), $serviceCount),
            $listAllLink
        ); ?></div>
        <div>
            <?= $checkNowForm; ?>
        </div>
        <div><?= $this->qlink(
            $this->icon('reschedule') . ' ' . sprintf(
                $this->translate('Reschedule the next check for all %u services'),
                $serviceCount
            ),
            $rescheduleAllLink,
            null,
            null,
            false
        ); ?></div>
        <div><?= $this->qlink(
            $this->icon('plug') . ' ' . sprintf($this->translate('Schedule a downtime for all %u services'), $serviceCount),
            $downtimeAllLink,
            null,
            null,
            false
        ); ?></div>
        <div><?= $this->qlink(
            $this->icon('reply') . ' ' . sprintf(
                $this->translate('Submit a passive check result for all %u services'),
                $serviceCount
            ),
            $processCheckResultAllLink,
            null,
            null,
            false
        ); ?></div>
      <?php if (($unhandledCount = count($unhandledObjects)) > 0): ?>
        <div>
            <h3><?= sprintf(
                $this->translatePlural(
                    '%u Unhandled Service Problem',
                    '%u Unhandled Service Problems',
                    $unhandledCount
                ),
                $unhandledCount
            ); ?></h3>
            <div><?= $this->qlink(
                $this->icon('plug') . ' ' . sprintf(
                    $this->translatePlural(
                        'Schedule a downtime for %u unhandled service problem',
                        'Schedule a downtime for %u unhandled service problems',
                        $unhandledCount
                    ),
                    $unhandledCount
                ),
                $downtimeUnhandledLink,
                null,
                null,
                false
            ); ?></div>
            <div><?= $this->qlink(
                $this->icon('ok') . ' ' . sprintf(
                    $this->translatePlural(
                        'Acknowledge %u unhandled service problem',
                        'Acknowledge %u unhandled service problems',
                        $unhandledCount
                    ),
                    $unhandledCount
                ),
                $acknowledgeUnhandledLink,
                null,
                null,
                false
            ); ?></div>
        </div>
      <?php endif ?>
      <?php if (($acknowledgedCount = count($acknowledgedObjects)) > 0): ?>
        <div>
            <h2><?= sprintf(
                $this->translatePlural(
                    '%u Acknowledged Service Problem',
                    '%u Acknowledged Service Problems',
                    $acknowledgedCount
                ),
                $acknowledgedCount
            ); ?></h2>
            <?= $removeAckForm ?>
        </div>
      <?php endif ?>
      <?php if (($inDowntimeCount = count($objectsInDowntime)) > 0): ?>
        <h2><?= $this->qlink(
            $this->icon('plug') . ' ' . sprintf(
                $this->translatePlural(
                    'List %u service currently in downtime',
                    'List %u services currently in downtime',
                    $inDowntimeCount
                ),
                $inDowntimeCount
            ),
            $inDowntimeLink,
            null,
            null,
            false
        ); ?></h2>
      <?php endif ?>
      <?php if (($commentCount = count($objects->getComments())) > 0): ?>
        <h2><?= $this->qlink(
            $this->icon('comment') . ' ' . sprintf(
                $this->translatePlural(
                    'List %u service comment',
                    'List %u service comments',
                    $commentCount
                ),
                $commentCount
            ),
            $commentsLink,
            null,
            null,
            false
        ); ?></h2>
      <?php endif ?>
    <?php endif ?>
</div>