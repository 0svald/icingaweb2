<?php

if (! $this->compact): ?>
<div class="controls">
    <?= $this->tabs ?>
    <div class="grid">
        <div class="col-1-3">
            <?= $this->limiter ?>
        </div>
        <div class="col-1-3">
            <?= $this->paginator ?>
        </div>
        <div class="col-1-3 text-right">
            <?= $this->sortBox ?>
        </div>
    </div>
    <?= $this->filterEditor ?>
</div>
<?php endif ?>
<div class="content">
<?php
if (count($groupData) === 0) {
    echo $this->translate('No contactgroups found matching the filter') . '</div>';
    return;
}
?>
    <table class="action action-table listing-table" data-base-target="_next">
        <thead>
        <tr>
            <th></th>
            <th><?= $this->translate('Hostgroup') ?></th>
            <th><?= $this->translate('Alias') ?></th>
        </tr>
        </thead>
        <tbody>

        <?php foreach ($groupData as $groupName => $groupInfo): ?>
        <tr>
            <td class="count-col">
                <span class="badge"><?= count($groupInfo['contacts'])  ?></span>
            </td>
            <td>
                <?= $this->qlink(
                    $groupName,
                    'monitoring/list/contacts',
                    array('contactgroup' => $groupName),
                    array('title' => sprintf(
                        $this->translate('Show detailed information about %s'),
                        $groupName
                    ))
                ) ?>
            </td>
            <td>
                <?php if ($groupInfo['alias'] !== $groupName): ?>
                    <?= $groupInfo['alias'] ?>
                <?php endif ?>
            </td>
        </tr>
        <?php endforeach ?>
        </tbody>
    </table>
</div>
