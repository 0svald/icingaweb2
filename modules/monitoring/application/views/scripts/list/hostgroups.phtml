<div class="row">
  <div class="pull-left">
    <h1>Hostgroups</h1>
  </div>
  <div class="pull-right">
    <?= $this->tabs->render($this); ?>
  </div>
</div>
<div data-icinga-component="app/mainDetailGrid" data-icinga-grid-selection-type="single">
    <?= $this->sortControl->render($this); ?>
    <?= $this->paginationControl($hostgroups, null, null, array('preserve' => $this->preserve)); ?>
    <table>
        <tbody>
        <?php foreach($hostgroups as $hostgroup): ?>
            <tr>
                <td>
                    <a href="<?= $this->href('monitoring/list/services', array('hostgroup' => $hostgroup->hostgroup)); ?>">
                        <?= $hostgroup->hostgroup; ?>
                    </a>
                </td>
                <td>
                    <div class="nav navbar-nav topbar-host-status-summary">
                        <span class="topbar-status-up">
                            <a href="<?= $this->href('monitoring/list/hosts', array('host_state' => 0, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Hosts Up">
                                <?= $hostgroup->hosts_up ?>
                            </a>
                        </span>
                        <span class="topbar-status-down">
                            <a href="<?= $this->href('monitoring/list/hosts', array('host_state' => 1, 'host_unhandled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Hosts Down Unhandled">
                                <?= $hostgroup->hosts_down_unhandled ?>
                            </a>/
                            <a href="<?= $this->href('monitoring/list/hosts', array('host_state' => 1, 'host_handled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Hosts Down Handled">
                                <?= $hostgroup->hosts_down_handled ?>
                            </a>
                        </span>
                        <span class="topbar-status-unreachable">
                            <a href="<?= $this->href('monitoring/list/hosts', array('host_state' => 2, 'host_unhandled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Hosts Unreachable Unhandled">
                                <?= $hostgroup->hosts_unreachable_unhandled ?>
                            </a>/
                            <a href="<?= $this->href('monitoring/list/hosts', array('host_state' => 2, 'host_handled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Hosts Unreachable Handled">
                                <?= $hostgroup->hosts_unreachable_handled ?>
                            </a>
                        </span>
                        <span class="topbar-status-pending">
                            <a href="<?= $this->href('monitoring/list/hosts', array('host_state' => 99)); ?>" title="Hosts Pending">
                                <?= $hostgroup->hosts_pending ?>
                            </a>
                        </span>
                    </div>
                </td>
                <td>
                    <div class="nav navbar-nav topbar-service-status-summary">
                        <span class="topbar-status-ok">
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 0, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Ok">
                                <?= $hostgroup->services_ok ?>
                            </a>
                        </span>
                        <span class="topbar-status-critical">
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 2, 'service_unhandled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Critical Unhandled">
                                <?= $hostgroup->services_critical_unhandled ?>
                            </a>/
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 2, 'service_handled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Critical Handled">
                                <?= $hostgroup->services_critical_handled ?>
                            </a>
                        </span>
                        <span class="topbar-status-warning">
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 1, 'service_unhandled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Warning Unhandled">
                                <?= $hostgroup->services_warning_unhandled ?>
                            </a>/
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 1, 'service_handled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Warning Handled">
                                <?= $hostgroup->services_warning_handled ?>
                            </a>
                        </span>
                        <span class="topbar-status-unknown">
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 3, 'service_unhandled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Unknown Unhandled">
                                <?= $hostgroup->services_unknown_unhandled ?>
                            </a>/
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 3, 'service_handled' => 1, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Unknown Handled">
                                <?= $hostgroup->services_unknown_handled ?>
                            </a>
                        </span>
                        <span class="topbar-status-pending">
                            <a href="<?= $this->href('monitoring/list/services', array('service_state' => 99, 'hostgroup' => $hostgroup->hostgroup)); ?>" title="Services Pending">
                                <?= $hostgroup->services_pending ?>
                            </a>
                        </span>
                    </div>
                </td>
            </tr>
        <?php endforeach; ?>
        </tbody>
    </table>
    <?= $this->paginationControl($hostgroups, null, null, array('preserve' => $this->preserve)); ?>
</div>
