<?php
$viewHelper = $this->getHelper('MonitoringState');
$contactHelper = $this->getHelper('ContactFlags');
?>
<div class="controls">
    <?= $this->tabs ?>
    <div style="margin: 1em">
        <?=  $this->sortControl->render($this); ?>
    </div>
    <?=  $this->paginationControl($contacts, null, null, array('preserve' => $this->preserve)); ?>
</div>

<div class="content contacts">
    <table data-base-target="_next" class="action">
        <tbody>
            <?php
            if (count($contacts) === 0) {
                echo t('No contacts matching the filter');
            }
            foreach($contacts as $contact):
                $periodLink = $this->href('monitoring/show/contacts', array('contact' => $contact->contact_name)); ?>
                <tr>
                    <td><?= $contact->contact_name ?></td>
                    <td><?= $contact->contact_alias ?></td>
                    <td><?= $contact->contact_email ?></td>
                    <td><?= $contact->contact_pager ?></td>
                    <td><?= $contactHelper->contactFlags($contact, 'service') ?></td>
                    <td><?= $contactHelper->contactFlags($contact, 'host') ?></td>
                    <td><?= $contact->contact_notify_service_timeperiod ?></td>
                    <td><?= $contact->contact_notify_host_timeperiod ?></td>
                </tr>
            <?php endforeach; ?>
        </tbody>
    </table>
</div>
